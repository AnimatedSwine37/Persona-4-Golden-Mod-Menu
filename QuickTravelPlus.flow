void field_order_hook()
{
	if ( GET_FIELD_MAJOR() == 6 )
	{
		//If QuickTravelPlus enabled
		if(BIT_CHK(6422))
			school_order_plus();
		else
			school_order();
	}
	else if ( GET_FIELD_MAJOR() == 7 )
	{
		myhouse_order();
	}
	else if ( GET_FIELD_MAJOR() == 8 )
	{
		//If QuickTravelPlus enabled
		if(BIT_CHK(6422))
			street_order_plus();
		else
			street_order();
	}
	else if ( GET_FIELD_MAJOR() == 9 )
	{
		gms_order();
	}
	else if ( GET_FIELD_MAJOR() == 10 )
	{
		embank_order();
	}
	else if ( GET_FIELD_MAJOR() == 11 )
	{
		station_order();
	}
	else if ( GET_FIELD_MAJOR() == 17 )
	{
		schoolroad_order();
	}
	else if ( GET_FIELD_MAJOR() == 18 )
	{
		snowmt_order();
	}
}

void school_order_plus()
{
	//Show expanded school quicktravel menu
	// Set mask
	int minor = GET_FIELD_MINOR();
	int schoolMask = 0;
	switch (minor)
	{
		case 1:
			schoolMask = schoolMask + 1;
			break;
		case 2:
			schoolMask = schoolMask + 2;
			break;
		case 3:
			schoolMask = schoolMask + 4;
			break;
		case 4:
			schoolMask = schoolMask + 8;
			break;
		case 5:
			schoolMask = schoolMask + 16;
			break;
		case 6:
			schoolMask = schoolMask + 32;
			break;
		case 14:
			schoolMask = schoolMask + 64;
			break;
	}
	SET_SEL_CHOICE_KEYBIND(14, 8);
	int school = ADV_SEL( School_Text, School, schoolMask );
	if (school < 8) 
	{
		FADE( 2, 5 );
		FADE_SYNC();
	}
	switch (school)
	{
		case 0:
			CALL_FIELD( 6, 1, 0, 0 );
			break;
		case 1:
			CALL_FIELD( 6, 2, 0, 0 );
			break;
		case 2:
			CALL_FIELD( 6, 3, 0, 0 );
			break;
		case 3:
			CALL_FIELD( 6, 4, 0, 0 );
			break;
		case 4:
			CALL_FIELD( 6, 5, 0, 0 );
			break;
		case 5:
			CALL_FIELD( 6, 6, 0, 0 );
			break;
		case 6:
			CALL_FIELD( 6, 14, 0, 0 );
			break;
		case 7:
			TOWN_MAP( 0 );
			break;
		case 8:
			break;
	}
}

void street_order_plus()
{
	if (GET_TIME_OF_DAY() != 5)
	{
		SET_SEL_CHOICE_KEYBIND(14, 7);
		int floor = GET_FLOOR_ID();
		int fieldMajor = GET_FIELD_MAJOR();
		int fieldMinor = GET_FIELD_MINOR();
	
		//Show daytime town quicktravel menu if not at home or school
		// Set mask
		int streetMask = 0;
		switch (fieldMinor)
		{
			case 1:
				streetMask = streetMask + 1;
				break;
			case 2:
				streetMask = streetMask + 2;
				break;
			case 9:
				streetMask = streetMask + 32;
				break;
		}
		int street = ADV_SEL( Street_Text, Street, streetMask );
		if (street < 7) 
		{
			FADE( 2, 5 );
			FADE_SYNC();
		}
		switch (street)
		{
			case 0:
				CALL_FIELD( 8, 1, 2, 0 );
				break;
			case 1:
				CALL_FIELD( 8, 2, 1, 0 );
				break;
			case 2:
				DAIDARA_SHOP();
				if (floor > 0 )
					CALL_FLOOR(floor);
				else
					CALL_FIELD(fieldMajor, fieldMinor, 0, 0);
				break;
			case 3:
				SHIROKU_SHOP();
				if (floor > 0 )
					CALL_FLOOR(floor);
				else
					CALL_FIELD(fieldMajor, fieldMinor, 0, 0);
				break;
			case 4:
				VELVET_ROOM();
				if (floor > 0 )
					CALL_FLOOR(floor);
				else
					CALL_FIELD(fieldMajor, fieldMinor, 0, 0);
				break;
			case 5:
				CALL_FIELD( 8, 9, 0, 0 );
				break;
			case 6:
				TOWN_MAP( 0 );
				break;
			case 7:
				break;
		}
	}
	else 
	{
		//Show nighttime town quicktravel menu if not at home or school
		int floor = GET_FLOOR_ID();
		int fieldMajor = GET_FIELD_MAJOR();
		int fieldMinor = GET_FIELD_MINOR();
		// Set mask
		int streetMask = 0;
		switch (fieldMinor)
		{
			case 1:
				if (fieldMajor == 8)
					streetMask = streetMask + 1;
				else
					streetMask = streetMask + 64;
				break;
			case 2:
				if (fieldMajor == 8)
					streetMask = streetMask + 2;
				else
					streetMask = streetMask + 32;
				break;
			case 9:
				streetMask = streetMask + 16;
				break;
		}
		int street = ADV_SEL( Street_Text, StreetNight, streetMask );
		if (street < 7) 
		{
			FADE( 2, 5 );
			FADE_SYNC();
		}
		switch (street)
		{
			case 0:
				CALL_FIELD( 8, 1, 2, 0 );
				break;
			case 1:
				CALL_FIELD( 8, 2, 1, 0 );
				break;
			case 2:
				SHIROKU_PUB();
				if (floor > 0 )
					CALL_FLOOR(floor);
				else
					CALL_FIELD(fieldMajor, fieldMinor, 0, 0);
				break;
			case 3:
				VELVET_ROOM();
				if (floor > 0 )
					CALL_FLOOR(floor);
				else
					CALL_FIELD(fieldMajor, fieldMinor, 0, 0);
				break;
			case 4:
				CALL_FIELD( 8, 9, 0, 0 );
				break;
			case 5:
				CALL_FIELD( 10, 2, 0, 0 );
				break;
			case 6:
				CALL_FIELD( 7, 1, 0, 0 );
				break;
			case 7:
				break;
		}
	}
}